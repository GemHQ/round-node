// Generated by CoffeeScript 1.8.0
(function() {
  var User, Wallets;

  Wallets = require('./wallets');

  module.exports = User = (function() {
    function User(userResource, client, options) {
      this.client = function() {
        return client;
      };
      this.resource = function() {
        return userResource;
      };
    }

    User.prototype.wallets = function(callback) {
      var resource, wallets;
      if (this._wallets) {
        return callback(null, this._wallets);
      }
      resource = this.resource().wallets;
      wallets = new Wallets(resource, this.client());
      return wallets.loadCollection((function(_this) {
        return function(error, wallets) {
          if (error) {
            return callback(error);
          }
          _this._wallets = wallets;
          return callback(null, _this._wallets);
        };
      })(this));
    };

    User.prototype.update = function(content, callback) {
      return this.resource().update(content, (function(_this) {
        return function(error, userResource) {
          if (error) {
            return callback(error);
          }
          _this._user = new User(userResource, _this.client());
          return callback(null, _this._user);
        };
      })(this));
    };

    return User;

  })();

}).call(this);
